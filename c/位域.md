# 位字段

有些信息在存储时，并不需要占用一个完整的字节, 而只需占几个或一个二进制位, 例如开关 0 1 即可
```
struct 位域结构名
{

    类型说明符 位域名：位域长度

};

struct bs
{
　　int a:8;
　　int b:2;
　　int c:6;
}data;
```

## 定义
“位域”是把一个字节中的二进位划分为几个不同的区域， 并说明每个区域的位数, 每个域有一个域名，允许在程序中按域名进行操作

## 说明
1. 一个位域必须存放在同一个字节中, 不能跨两个字节, 一个字节所剩空间不够存放另一个位域时,
应从下一单元器存放该位域,也可以有意使某位域从下一个字节开始;
2. 由于位域不允许跨两个字节, 因此位域的长度不能大于一个字节的长度;
3. 位域可以使无名位域, 只用作填充或调整位置, 无名位域是不能使用的;
```
struct k
{
    int a:1
    int :2 /*无位域名，该2位不能使用*/
    int b:3
    int c:2
};
```

## 位域对齐

1. 如果相邻位域字段的类型相同, 且其位宽之和小于类型的sizeof大小, 则后面的字段将紧临前一个字段存储,知道不能容纳为止;
2. 如果相邻位域字段的类型相同, 但其位宽之和大于类型的sizeof大小, 则后面的字段将从新的存储单元开始, 其偏移量为类型大小的整数倍;
3. 如果相邻位域字段的类型不同, 则个编译器的具体实现有差异, VC6 采取不同压缩方式
